<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DEMO</title>
    <script src="./vue.js"></script>
    <style>
        table {
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #000;
        }
    </style>
</head>
<body>
<div id="app">
    <input type="button" v-on:click="randomData" value="随机生成数据"/>
    <input type="button" v-on:click="yearAbove20" v-if="yearLimit!==20" value="只显示年龄大于20的人"/>
    <input type="button" v-on:click="all" v-if="yearLimit>0" value="显示全部"/>
    <p></p>
    <table>
        <tr>
            <td>序号</td>
            <td>姓名</td>
            <td>年龄</td>
        </tr>
        <tr v-for="(val,key) in datas" v-if="val.year > yearLimit">
            <td>{{val.index}}</td>
            <td>{{val.name}}</td>
            <td v-if="val.year<30">{{val.year}}</td>
            <td v-else>年龄太大了，不告诉你喔</td>
        </tr>
    </table>
</div>
<script>
    new Vue({   //创建一个Vue的实例
        el: "#app", //挂载点是id="app"的地方
        data: {
            datas: [],
            yearLimit: 0
        },
        methods: {
            getName: function () {
                var familyNames = new Array(
                    "赵", "钱", "孙", "李", "周", "吴", "郑", "王", "冯", "陈",
                    "褚", "卫", "蒋", "沈", "韩", "杨", "朱", "秦", "尤", "许",
                    "何", "吕", "施", "张", "孔", "曹", "严", "华", "金", "魏",
                    "陶", "姜", "戚", "谢", "邹", "喻", "柏", "水", "窦", "章",
                    "云", "苏", "潘", "葛", "奚", "范", "彭", "郎", "鲁", "韦",
                    "昌", "马", "苗", "凤", "花", "方", "俞", "任", "袁", "柳",
                    "酆", "鲍", "史", "唐", "费", "廉", "岑", "薛", "雷", "贺",
                    "倪", "汤", "滕", "殷", "罗", "毕", "郝", "邬", "安", "常",
                    "乐", "于", "时", "傅", "皮", "卞", "齐", "康", "伍", "余",
                    "元", "卜", "顾", "孟", "平", "黄", "和", "穆", "萧", "尹"
                );
                var givenNames = new Array(
                    "子璇", "淼", "国栋", "夫子", "瑞堂", "甜", "敏", "尚", "国贤", "贺祥", "晨涛",
                    "昊轩", "易轩", "益辰", "益帆", "益冉", "瑾春", "瑾昆", "春齐", "杨", "文昊",
                    "东东", "雄霖", "浩晨", "熙涵", "溶溶", "冰枫", "欣欣", "宜豪", "欣慧", "建政",
                    "美欣", "淑慧", "文轩", "文杰", "欣源", "忠林", "榕润", "欣汝", "慧嘉", "新建",
                    "建林", "亦菲", "林", "冰洁", "佳欣", "涵涵", "禹辰", "淳美", "泽惠", "伟洋",
                    "涵越", "润丽", "翔", "淑华", "晶莹", "凌晶", "苒溪", "雨涵", "嘉怡", "佳毅",
                    "子辰", "佳琪", "紫轩", "瑞辰", "昕蕊", "萌", "明远", "欣宜", "泽远", "欣怡",
                    "佳怡", "佳惠", "晨茜", "晨璐", "运昊", "汝鑫", "淑君", "晶滢", "润莎", "榕汕",
                    "佳钰", "佳玉", "晓庆", "一鸣", "语晨", "添池", "添昊", "雨泽", "雅晗", "雅涵",
                    "清妍", "诗悦", "嘉乐", "晨涵", "天赫", "玥傲", "佳昊", "天昊", "萌萌", "若萌"
                );
                var ran1 = parseInt(100 * Math.random());
                var ran2 = parseInt(100 * Math.random());
                return familyNames[ran1] + givenNames[ran2];
            },
            randomData: function () {
                var data = [];
                for (var i = 1; i < (5 + 10 * Math.random()); i++) {
                    var obj = {
                        index: i,
                        name: this.getName(),
                        year: parseInt(1 + Math.random() * 50)
                    }
                    data.push(obj)
                }
                this.datas = data;
                console.log(this.datas);
            },
            yearAbove20: function () {
                this.yearLimit = 20;
            },
            all: function () {
                this.yearLimit = -1;
            }
        }
    })
</script>
</body>
</html>